# ==============================
# --- SERVER CONFIGURATION ---
# ==============================
server.port=8080
server.servlet.context-path=/api
server.address=0.0.0.0
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# ==============================
# --- DATABASE CONFIGURATION (AIVEN PRODUCTION) ---
# ==============================
# Final URL includes the necessary socket timeout parameter (60 seconds)
spring.datasource.url=jdbc:mysql://mysql-13161f4b-sreemani0323-3de4.d.aivencloud.com:10573/defaultdb?requireSSL=true&serverTimezone=UTC&socketTimeout=60000
spring.datasource.username=avnadmin
spring.datasource.password=${DB_PASSWORD}

# ==============================
# --- JPA / HIBERNATE CONFIGURATION ---
# ==============================
# Removed 'MySQL8Dialect' (HHH90000025 warning) and rely on Hibernate auto-detection.
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=false
spring.jpa.open-in-view=false

# ==============================
# --- HIKARI CONNECTION TUNING (Render-safe) ---
# ==============================
# Max Lifetime set shorter than Aiven's kill time (5 min) for stability
spring.datasource.hikari.max-lifetime=300000
# Keepalive check interval set shorter than max-lifetime
spring.datasource.hikari.keepalive-time=120000
spring.datasource.hikari.connection-test-query=SELECT 1
spring.datasource.hikari.maximum-pool-size=5

# ==============================
# --- CORS CONFIGURATION ---
# ==============================
spring.web.cors.allowed-origins=https://sreemani0323.github.io
spring.web.cors.allowed-methods=GET,POST
spring.web.cors.allowed-headers=*